<<<<<<< HEAD <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <div class="wrapper">
        <h1>MAKE YOUR PLAN</h1>
        <p style="text-indent: 9em;">You can make your plan here.</p>

        <form class="form" method="post" action="yourpage.html">

            
                <div *ngIf="isSubmit == false ;else set_activities ">
                    <form>
                        <div>
                            <h4>TRIP NAME</h4>    
                            <input type="text" class="name" placeholder="Enter your trip name" ><!--ยังไม่ได้ส่งค่าไปหลังบ้าน-->
                            <br>
                            <br>
                            <br>
                            <b class="b">Start Date :</b><input type="date" name="departDate" id="fontb" [(ngModel)]="departDate" placeholder="yyyy-MM-dd" min={{now}} max="2019-12-31"
                            required />
                    
                            <b class="b">End Date :</b><input type="date" name="returnDate" id="fontb" [(ngModel)]="returnDate" placeholder="yyyy-MM-dd" min={{departDate}} max="2019-12-31"
                            required />
                                
                    
                                
                            <br>
                            <br>
                            <br>
                            <input type="submit" class="submit" (click)="calculateDate();isSubmit = true;" value="Start Planning">
                    
                    
                            </div>


                        


                    </form>
                </div>
            

            <ng-template #set_activities>

                <div style="font-size:40px;color:white;text-align:center">{{tripName}}</div>
                <br>
                <div style="float:left;font-size:20px">{{departDate}} </div>
                <div style="float:right;font-size:20px">{{returnDate}}</div>
                <br>
                <div style="text-align:center;font-size:20px">{{resultDate}} day</div>
                <br>
                <div *ngIf="isHide == false ;else hide ">

                    <div *ngFor="let d of days;let j =index;">

                        <mat-toolbar style="background:rgb(19, 155, 218);color:white">

                            <span>Day{{j+1}}({{days[j].thatDate}}) </span>
                            <span clasee="example-spacer"> </span>
                            <button mat-button [matMenuTriggerFor]="appMenu">
                                <mat-icon>add</mat-icon>
                            </button>

                        </mat-toolbar>
                        <br>
                        <mat-menu #appMenu="matMenu">
                            <div *ngFor="let activity of activities;let index =index;">
                                <button mat-menu-item (click)="act_temp = activities[index].type ;isActCreate[j]=true;">{{activities[index].type}}</button>
                                <!--  ex activites (need database) -->
                                <!--    <button mat-menu-item (click)="act_temp = 'Bangkok';isActCreate[j]=true">Bangkok</button> -->
                                <!--  ex activites (need database) -->
                            </div>
                        </mat-menu>


                        <table id="table">
                            <thead id="table-odd">
                            </thead>
                            <tr id="table-even" *ngFor="let act of d.acts;let i =index;">

                                <td style="color:white;padding-left:30px;padding-right: 30px;">{{i+1}}</td>

                                <td style="color:white;padding-right: 30px;">{{days[j].times[i]}}</td>

                                <td style="color:white;padding-right: 30px;">{{days[j].details[i]}}</td>

                                <td style="color:white;padding-right: 30px;">{{days[j].acts[i]}}</td>

                                <td>
                                    <button mat-button (click)="removeActs(i,j)">
                                        <mat-icon>remove</mat-icon>
                                    </button>
                                </td>
                            </tr>
                        </table>

                        <!-- กรอกข้อมูล -->
                        <div *ngIf="isActCreate[j] == true ;else ">
                            <!-- condition for showing set_activities_detail -->
                            <div style="float:left;width: 90%">
                                <table id="table" style="background:white;width:100%">
                                    <thead id="table-even">
                                        <th>Time</th>
                                        <th>Detail</th>
                                        <th>Activity</th>
                                    </thead>
                                    <td>
                                        <input type="time" [(ngModel)]="time" required />
                                        <br>
                                    </td>

                                    <td>
                                        <input type="text" placeholder="detail" [(ngModel)]="detail" required />
                                        <br>
                                    </td>
                                    <td>
                                        {{act_temp}}
                                    </td>
                                    <!-- button for addActivities to database (from addActs()) -->

                                </table>
                            </div>
                            <div style="float:right;width: 10%">
                                <br>
                                <button class="btn btn-primary btn-block btn-large" (click)="addActs(act_temp,time,detail,j);detail='';time='';">submit</button>
                            </div>
                            <br>
                            <br>
                            <div style="color:red;float:left">{{status2}}</div>
                            <br>

                        </div>

                    </div>



                    <!-- <button routerLink="/generateplan">generateplan !!</button>   -->
                    <button type="button" class="btn btn-primary" (click)="isHide= true"> Generate Plan</button>

                </div>

            </ng-template>

            <!--  generate -->
            <ng-template #hide>


                <button *ngFor="let d of days;let j =index;" class="btn btn-primary" (click)="dayShowing(j,resultDate)">day {{j+1}}</button>
                <div *ngFor="let d of days;let j =index">
                    <div *ngIf="dayShow[j] == true ;else ">

                        <a>
                            day:{{days[j].thatDate}}
                        </a>
                        <table>

                            <thead>
                                <th *ngFor="let act of days[j].acts;let l =index;">{{act}}</th>
                            </thead>
                            <td *ngFor="let act of days[j].acts;let l =index;">



                                <img src={{getActivity(act)}} style="width:48px;height:48px;background:white"> </td>

                            <!-- <img src="../../assets/images/background.jpg" style="width:48px;height:48px;"> </td> -->
                            <!-- activity image (j =index) -->


                            <table id="table">
                                <thead id="table-odd">
                                    <th>Index</th>
                                    <th>Time</th>
                                    <th>Detail</th>
                                    <th>Activitie</th>

                                </thead>
                                <br>
                                <tr id="table-even" style="background:white;width:100%" *ngFor="let act of d.acts;let i =index;">

                                    <td>{{i+1}}</td>

                                    <td>{{days[j].times[i]}}</td>

                                    <td>{{days[j].details[i]}}</td>

                                    <td>{{days[j].acts[i]}}</td>
                                </tr>
                            </table>
                            <thead>
                                <th></th>

                            </thead>

                        </table>

                    </div>
                </div>
                <button class="btn btn-primary" (click)="confirm()">confirm</button>
            </ng-template>
        </form>
        <p class="optimize">
            Optimized for Chrome
        </p>